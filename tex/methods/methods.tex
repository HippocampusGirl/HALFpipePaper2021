\section{Methods}

The \soft{HALFpipe} software is containerized, similar to \soft{fMRIPrep} or \soft{C-PAC}. This means that it comes bundled with all other software that is needed for it to run, such as \soft{fMRIPrep} \parencite{esteban2019a}, \soft{MRIQC} \parencite{esteban2017}, \soft{FSL} \parencite{jenkinson2012}, \soft{ANTs} \parencite{avants2011}, FreeSurfer \parencite{fischl2000}, and \soft{AFNI} \parencite{cox1996,cox1997}. As such, all users of one version of \soft{HALFpipe} will be using identical versions of these tools, because they are packaged with the container. Thus, the containerization of \soft{HALFpipe} software aids reproducibility across different researchers and computing environments.

We have provided the \soft{HALFpipe} application in a Singularity container and a Docker container. Singularity or Docker, which are both freely available, must be installed prior to downloading the containerized \soft{HALFpipe} application. Both Docker and Singularity perform so-called operating-system-level virtualization, but are more efficient and require less resources than virtual machines. Running Docker containers on a Linux or macOS operating system usually requires administrator privileges. Singularity is typically run on a Linux operating system, and may be used without administrator privileges. Docker can be run on the Windows operating system, but compatibility issues may occur with respect to file systems.

Our \soft{HALFpipe} development team adopted other software engineering best practices, which promoted faster development and reduced code errors. These industry best-practices, which have found their way into research applications \parencite{das2018}, involve writing code that is easy to read (albeit generally harder to write), the breakdown of complex systems into several simpler subsystems, dedicated effort toward thoughtful code design before implementation, and performing continuous integration via unit tests \parencite{beck2000}.

\input{./tex/methods/ecosystem.tex}

\input{./tex/methods/databases.tex}

\input{./tex/methods/metadata.tex}

\input{./tex/methods/interfaces.tex}

\input{./tex/methods/workflow_engine.tex}

\input{./tex/methods/preprocessing.tex}

\input{./tex/methods/confound_time_series_removal.tex}

\input{./tex/methods/quality_assessment.tex}

\input{./tex/methods/group_statistics.tex}

\input{./tex/methods/running_on_hpc.tex}

\input{./tab/settings.tex}
